# keep-alive

keep-alive 是 vue 官方提供的虚拟组件，用于缓存由 keep-alive 包裹的组件（只能），确保被包裹的组件在不显示时，还能保留原有的状态（如 input 的输入内容，导航组件的导航状态等）



注意，`keep-alive` 是用在其一个直属的子组件被开关的情形。当有多个直属子组件时，只处理第一个子组件。

## 属性

- include：支持处理什么组件需要缓存
- exclude：支持处理什么组件不需要缓存
- max：缓存的个数（指动态组件 name 的个数），当超过个数里，保留最久的将被丢弃



## 原理

核心工作是用 object 缓存 vnode

另外，为支持 max 属性，用 array 缓存 vnode.key，记录缓存先后顺序